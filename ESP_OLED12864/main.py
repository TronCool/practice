from machine import I2C, Pin
import ssd1306
import math

i2c = I2C(-1, Pin(5), Pin(4))
buff = ssd1306.SSD1306_I2C(128, 64, i2c)

buff.text("QRCode Xiaole", 0, 2)
buff.text("-------------", 0, 10)

buff.fill_rect(0, 16, 48, 48, 1)

x0, y0  = 48, 40
for x in range(80):
    y = int(math.sin(x / 20 * 3.14) * 22 + 40)
    buff.line(x0, y0, x + 48, y, 1)
    x0, y0 = x + 48, y

qr = [
'000000010001110000000',
'011111011001110111110',
'010001010111010100010',
'010001011101110100010',
'010001010100110100010',
'011111011101010111110',
'000000010101010000000',
'111111110010111111111',
'111110011110010101010',
'011010101011011101111',
'101001010001110100001',
'011100111000011100011',
'110100001101000110101',
'111111110101100111000',
'000000011000011010001',
'011111010100111000011',
'010001011011101111101',
'010001011001010100111',
'010001011001001101100',
'011111011000001110011',
'000000011000110101101'
]

for x in range(21): 
  for y in range(21):
    buff.fill_rect(3 + x * 2, 19 + y * 2, 2, 2, int(qr[y][x]))

buff.show()

